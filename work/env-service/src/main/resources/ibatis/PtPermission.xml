<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="com.env.dto.PtPermission">
	<typeAlias alias="permissionEntity" type="com.env.dto.PtPermission" />
	<resultMap id="permission" class="com.env.dto.PtPermission">
		<result property="id" column="id" />
		<result property="permissionCode" column="permission_code" />
		<result property="permissionName" column="permission_name" />
		<result property="permissionSequence" column="permission_sequence" />
		<result property="resource" column="resource" />
		<result property="appId" column="app_id" />
		<result property="parentId" column="parent_id" />
		<result property="type" column="type" />
		
		<result property="version" column="version" jdbcType="int" javaType="java.lang.Integer"/>
		<result property="disabled" column="disabled" jdbcType="int" javaType="java.lang.Integer"/>
		<result property="createUserid" column="create_userid" jdbcType="int" javaType="java.lang.Integer"/>
		<result property="createTime" column="create_time" jdbcType="datetime" javaType="java.util.Date"/>
		<result property="updateUserid" column="update_userid" jdbcType="int" javaType="java.lang.Integer"/>
		<result property="updateTime" column="update_time" jdbcType="datetime" javaType="java.util.Date"/>
	</resultMap>

	<!-- 用于select查询公用抽取的列 -->
	<sql id="permission.columns">
	    <![CDATA[
        id, permission_code, permission_name,permission_sequence,resource,app_id,parent_id,type
        ,version,disabled,create_time,create_userid,update_userid,update_time
	    ]]>
	</sql>
	
	<!-- 根据appId查询所有记录 -->
	<select id="getByAppid" resultMap="permission">
		select
		<include refid="permission.columns" />
	    <![CDATA[
		    from pt_permission p
		    where app_id = #appId#
	    ]]>
	</select>
	
</sqlMap>